.\" Copyright (c) 1986 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
.\"
.\"	@(#)resolver.5	5.9 (Berkeley) 12/14/89
.\"	$Id: resolver.5,v 8.6 1999/05/21 00:01:02 vixie Exp $
.\"
.\" Added ndots remark by Bernhard R. Link - debian bug #182886
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.\" This file is distributed under the same license as original manpage
.\" Copyright of the original manpage:
.\" Copyright © 1986 The Regents of the University of California (Prior BSD)
.\" Copyright © of Polish translation:
.\" Przemek Borys (PTM) <pborys@dione.ids.pl>, 1999.
.\" Robert Luberda <robert@debian.org>, 2006, 2012.
.TH RESOLV.CONF 5 2012\-04\-23 "" "Podręcznik programisty Linuksa"
.UC 4
.SH NAZWA
resolv.conf \- plik konfiguracyjny obsługi nazw (resolver)
.SH SKŁADNIA
\fB/etc/resolv.conf\fP
.SH OPIS
Obsługa nazw (\fIresolver\fP)  jest zbiorem funkcji biblioteki C, które
umożliwiają dostęp do internetowego systemu serwerów nazw (DNS). Plik
konfiguracyjny zawiera informacje, odczytywane przez procedury obsługi nazw
podczas ich pierwszego wywołania przez proces, i jest czytelny zarówno dla
maszyny, jak i dla człowieka. Zawiera listę słów kluczowych z wartościami,
które udostępniają różne informacje dotyczące obsługi nazw.
.LP
Jeśli ten plik nie istnieje, to jedynym odpytywanym serwerem nazw jest wtedy
ten z maszyny lokalnej, nazwa domeny jest określana z nazwy komputera
lokalnego, a ścieżka poszukiwania domen jest konstruowana z nazwy domeny.
.LP
Opcje konfiguracji są następujące:
.TP 
\fBnameserver\fP Adres IP serwera nazw.
Adres internetowy (w notacji kropkowej) serwera nazw, który powinien być
odpytywany przez funkcje obsługi nazw. W pliku można podać maksymalnie
\fBMAXNS\fP (obecnie 3, patrz \fI<resolv.h>\fP) serwery nazw, po jednym
przy słowie kluczowym. Jeśli jest kilka serwerów, biblioteka obsługi nazw
odpytuje je w kolejności, w jakiej zostały wymienione. Jeśli nie ma żadnego
wpisu \fBnameserver\fP, domyślnym zachowaniem jest korzystanie z serwera nazw
na maszynie lokalnej.  (Stosowany algorytm polega na próbie odpytania
serwera nazw, a jeśli przekroczy ona czas oczekiwania, następuje próba
odpytania następnego, aż zabraknie serwerów nazw. Następnie występuje ściśle
określona liczba ponownych odpytań wszystkich serwerów nazw).
.TP 
\fBdomain\fP Nazwa lokalnej domeny.
Większość zapytań o nazwy wewnątrz tej domeny może odbywać się z
zastosowaniem krótkich nazw, podanych względem lokalnej domeny. Jeśli
pozycja \fBdomain\fP nie jest obecna, jest ona określana na podstawie nazwy
lokalnego komputera, zwróconej przez \fBgethostname\fP(2) \- za domenę uważa się
wszystko po pierwszej ".".  Ostatecznie, jeśli nazwa komputera nie zawiera
części domenowej, przyjmowana jest domena główna.
.TP 
\fBsearch\fP Lista przeszukiwania nazw komputerów.
.\" When having a resolv.conv with a line
.\"  search subdomain.domain.tld domain.tld
.\" and doing a hostlookup, for example by
.\"  ping host.anothersubdomain
.\" it sends dns-requests for
.\"  host.anothersubdomain.
.\"  host.anothersubdomain.subdomain.domain.tld.
.\"  host.anothersubdomain.domain.tld.
.\" thus not only causing unnecessary traffic for the root-dns-servers
.\" but broadcasting information to the outside and making man-in-the-middle
.\" attacks possible.
Lista ta jest zwykle określana na podstawie lokalnej nazwy domeny; domyślnie
też zawiera tylko tę nazwę. Można to zmienić, przez podanie żądanej ścieżki
poszukiwania domeny po słowie kluczowym \fIsearch\fP, używając spacji lub
tabulacji do oddzielenia nazw.  Funkcje obsługi nazw dla zapytań
zawierających w sobie mniej niż \fIndots\fP kropek (domyślnie \- 1) będą
próbowały kolejnych składników ścieżki poszukiwania, aż do znalezienia.  Dla
środowisk z wieloma poddomenami, proszę przeczytać poniżej \fBoptions
ndots:\fP\fIn\fP, aby uniknąć ataków typu man\-in\-the\-middle oraz niepotrzebnego
odpytywania głównych serwerów nazw.  Należy zauważyć, że proces ten może być
powolny i powodować duże obciążenie sieci, jeśli serwery dla podanych domen
nie są lokalne, a czas oczekiwania na odpowiedź po zapytaniu przekracza czas
oczekiwania, gdy dla którejś z domen wszystkie serwery są niedostępne.
.IP
Lista poszukiwania jest obecnie ograniczona do sześciu domen z maksymalną
liczbą 256 znaków.
.TP 
\fBsortlist\fP
Umożliwia sortowanie adresów zwracanych przez \fBgethostbyname\fP(3). Lista
sortowania jest podawana przez pary adresów IP i masek sieci. Maska sieci
jest opcjonalna i domyślnie ma wartość naturalnej maski dla danej
sieci. Adres IP jest oddzielany od maski sieci ukośnikiem. W polu tym można
podawać do 10 par. Przykład:

.in +4n
sortlist 130.155.160.0/255.255.240.0 130.155.0.0
.in
.br
.TP 
\fBoptions\fP
Pole to umożliwia modyfikację pewnych wewnętrznych zmiennych funkcji obsługi
nazw. Jego składnia to:
.RS
.IP
\fBoptions\fP \fIopcja\fP \fI...\fP
.LP
gdzie \fIopcja\fP jest jedną z następujących:
.TP 
\fBdebug\fP
.\" Since glibc 2.2?
ustawia \fBRES_DEBUG\fP w \fI_res.options\fP.
.TP 
\fBndots:\fP\fIn\fP
.\" Since glibc 2.2
ustawia próg liczby kropek, które muszą pojawić się w nazwie podanej do
\fBres_query\fP (zobacz \fBresolver\fP(3)) przed wykonaniem \fIpoczątkowego
absolutnego zapytania\fP. Domyślną wartością jest "1", co oznacza, że jeśli w
nazwie znajdują się jakieś kropki, to powinna być najpierw sprawdzona jako
nazwa absolutna, bez dokonywania żadnych podstawień listy
poszukiwania. Maksymalną wartością jest 15, większe wartości zostaną
zmniejszone, bez wypisywania żadnych ostrzeżeń.
.TP 
\fBtimeout:\fP\fIn\fP
.\" Since glibc 2.2
ustawia czas, przez który funkcja obsługi nazw będzie czekać na odpowiedź ze
zdalnego serwera nazw przed wysłaniem zapytania do innego serwera nazw.
Wyrażony w sekundach, domyślnie \- \fBRES_TIMEOUT\fP (obecnie 5, patrz
<resolv.h>). Maksymalną wartością jest 30, większe wartości zostaną
zmniejszone, bez wypisywania żadnych ostrzeżeń.
.TP 
\fBattempts:\fP\fIn\fP
ustawia liczbę prób wysyłania przez funkcję obsługi nazw zapytań do serwerów
nazw przed poddaniem się i zwróceniem błędu.  Domyślnie \- \fBRES_DFLRETRY\fP
(obecnie 2, patrz <resolv.h>). Maksymalną wartością jest 5, większe
wartości zostaną zmniejszone, bez wypisywania żadnych ostrzeżeń.
.TP 
\fBrotate\fP
.\" Since glibc 2.2
ustawia \fBRES_ROTATE\fP w \fI_res.options\fP, powodując wybór serwera nazw
spośród wymienionych serwerów za pomocą algorytmu round robin. Efektem tej
opcji jest rozłożenie obciążenia zapytaniami wszystkich wymienionych
serwerów nazw, zamiast odpytywania za każdym razem pierwszego z nich.
.TP 
\fBno\-check\-names\fP
.\" since glibc 2.2
ustawia \fBRES_NOCHECKNAME\fP w \fI_res.options\fP, co wyłącza sprawdzanie przez
nowoczesne serwery BIND przychodzących nazw komputerów i nazw pocztowych
niepoprawnych znaków takich jak podkreślenie (_), znaki nie\-ASCII lub znaki
sterujące.
.TP 
\fBinet6\fP
.\" Since glibc 2.2
ustawia \fBRES_USE_INET6\fP w \fI_res.options\fP.  Efektem tego jest próbowanie
zapytań AAAA przed zapytaniami A wewnątrz funkcji \fIgethostbyname\fP(3)  i
mapowanie odpowiedzi IPv4 na "tunelowaną formę" IPv6, jeżeli znaleziono
tylko rekordy A, bez rekordów AAAA.

Niektóre programy zachowują się dziwacznie, jeśli ta opcja jest włączona.
.TP 
\fBip6\-bytestring\fP (od wersji 2.3.4 biblioteki glibc)
ustawia \fBRES_USE_BSTRING\fP w \fI_res.options\fP. Powoduje to, że odwrotne
wyszukiwania IPv6 będą używać formatu etykiet bitowych ("bit\-label")
opisanego w RFC\ 2673. Jeśli ta opcja nie jest ustawiona, to będzie używany
formatu półbajtowego.
.TP 
\fBip6\-dotint\fP/\fBno\-ip6\-dotint\fP (od wersji 2.3.4 biblioteki glibc)
Czyści lub ustawia \fBRES_NOIP6DOTINT\fP w \fI_res.options\fP. Jeśli opcja ta jest
wyczyszczona  (\fBip6\-dotint\fP), wyszukiwania odwrotne IPv6 są przeprowadzane
w (niezalecanej) strefie \fIip6.int\fP. Gdy opcja ta jest włączona
(\fBno\-ip6\-dotint\fP), odwrotne wyszukiwania IPv6 są przeprowadzane w strefie
\fIip6.arpa\fP. Opcja ta jest domyślnie włączona.
.TP 
\fBedns0\fP (od wersji 2.6 biblioteki glibc)
ustawia \fBRES_USE_EDNSO\fP w \fI_res.options\fP. Włącza to obsługę rozszerzeń DNS
opisanych w  RFC\ 2671.
.TP 
\fBsingle\-request\fP (od wersji 2.10 biblioteki glibc)
ustawia \fBRES_SNGLKUP\fP w \fI_res.options\fP. Domyślnie biblioteka glibc od
wersji 2.9 równolegle odpytuje IPv4 i IPv6. Niektóre urządzenia serwerów DNS
nie obsługują poprawnie takich zapytań i powodują błąd przekroczenia czasu
oczekiwania na odpowiedź. Opcja ta wyłącza takie zachowanie i sprawia, że
glibc odpytuje o IPv6 i IPv4 sekwencyjnie (kosztem pewnego spowolnienia
procesu translacji nazw).
.RE
.LP
Słowa kluczowe \fIdomain\fP i \fIsearch\fP wzajemnie się wykluczają.  Jeśli
istnieje więcej niż jedna ich instancja, używana jest ostatnia z nich.
.LP
Słowo kluczowe \fIsearch\fP systemowego \fIresolv.conf\fP można nadpisać dla
danego procesu nadając zmiennej środowiskowej \fBLOCALDOMAIN\fP wartość będącą
rozdzieloną spacjami listą domen poszukiwania.
.LP
Słowo kluczowe \fIoptions\fP systemowego \fIresolv.conf\fP można poprawić dla
danego procesu nadając zmiennej środowiskowej \fBRES_OPTIONS\fP wartość będącą
rozdzieloną spacjami listą opcji obsługi nazw (opcje opisano powyżej, pod
hasłem \fBoptions\fP).
.LP
Słowo kluczowe i wartość muszą pojawiać się w tej samej linii oraz słowo
kluczowe (np. \fBnameserver\fP) musi rozpoczynać linię. Wartość jest elementem
następującym po słowie kluczowym i jest od niego oddzielona znakiem spacji
lub tabulacji.

Linie zaczynające się od znaku średnika (";") lub hasha ("#") są traktowane
jako komentarze.
.SH PLIKI
\fI/etc/resolv.conf,\fP \fI<resolv.h>\fP
.SH "ZOBACZ TAKŻE"
\fBgethostbyname\fP(3), \fBresolver\fP(3), \fBhostname\fP(7), \fBnamed\fP(8)
.br
Name Server Operations Guide for BIND
.SH "O STRONIE"
Angielska wersja tej strony pochodzi z wydania 3.40 projektu Linux
\fIman\-pages\fP. Opis projektu oraz informacje dotyczące zgłaszania błędów
można znaleźć pod adresem http://www.kernel.org/doc/man\-pages/.
.SH TŁUMACZENIE
Autorami polskiego tłumaczenia niniejszej strony podręcznika man są:
Przemek Borys (PTM) <pborys@dione.ids.pl>
i
Robert Luberda <robert@debian.org>.
.PP
Polskie tłumaczenie jest częścią projektu manpages-pl; uwagi, pomoc, zgłaszanie błędów na stronie http://sourceforge.net/projects/manpages-pl/. Jest zgodne z wersją \fB 3.40 \fPoryginału.
